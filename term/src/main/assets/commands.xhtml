<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml">
<!--  
 * Copyright (C) 2014-2018 Thorbjørn Hansen.
 * 
 * The help content is *not* under an Apache License. I have not
 * decided on its license yet. Contact me at thorbj.hansen@gmail.com
 * if you want to copy, publish or use it outside of TTerm.
-->
<head>%
  <title>TTerm – Commands</title>
  <!-- Also injects CSS style sheets. -->
  <script>prefix="";</script>
  <script src="lib/doc.js"/>
</head>
<body>

<div class="header">TTerm – Commands</div>

<p><a href="1-index.xhtml">Back to index.</a></p>

<p id="thh-toc-toc"></p>


<h1>Commands</h1>
<!-- ************************************************************ -->

<p>This list is a short documentation of the commands used in the help
pages of TTerm. It's not a full list of Linux commands, and it does
not cover all uses of the commands, only those that are used in the
help pages of Termux.</p>

<p>Commands marked with "Unix", "Linux" or "shell built-in" also exist
in Unix and Linux, so you can be look them up in any book or web site
on Unix, BSD or Linux.</p>

<p>Commands marked with "Android" only exist on Android. You can
google them, but there does not seem to be much information on
them.</p>


<h1>A</h1>
<!-- ************************************************************ -->

<h2><c>apt</c> &mdash; advanced package tool</h2>
<!-- ============================================================ -->

<p>(A Linux command available in Termux and GNURoot Debian.)</p>

<p>See 
  <a href="https://en.wikipedia.org/wiki/APT_(Debian)"
     >Wikipedia</a>.</p>


<h2><c>cd</c> &mdash; change directory</h2>
<!-- ============================================================ -->

<p>(A shell built-in in all shells.)</p>

<p>Note that <c>cd</c> without arguments and <c>cd ~</c> both change
to the directory 
  <a href="config.xhtml#env/HOME"><c>$HOME</c></a>.</p>


<h2 id="chmod"><c>chmod</c> &mdash; change </h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>

<p>Unix uses the term "file mode" for 
  <a href="concepts.xhtml#file_access_rights"
     >file access rights</a>. 
You change them with <c>chmod</c>, which in Unix supports
<dfn>symbolic modes</dfn> and <dfn>numeric modes</dfn>. If you have an
older Android version where <c>/system/bin/chmod</c> only supports
numeric modes, the BusyBox version also supports symbolic modes.</p>

<p>A short overview:</p>

<pre>Symbolic modes:

  chmod ([ugoa]*[+-=][rwxXst]*)+ «files»

For example:

  chmod u+rwx     # "User" may "read, write, execute".
  chomd ug+r o-r  # "User and group" may "read", "other" may not "read".
  chomd a+r       # "All" may "read".

Where

  u = user
  g = group
  o = other
  a = all

and

  + = set
  - = clear
  = = set this mode, clear the other modes

and

  r = read
  w = write
  x = for dirs:  search
      otherwise: execute
  X = for dirs:  search
      otherwise: execute if file already has execute permission for
                 some user
  s = set user or group ID on execution
  t = for dirs:  restricted deletion flag
      otherwise: sticky bit, saves file on the swap devie so it will
                 load more quickly when run

Numeric modes:

               owner  group  other
  r = read       100     10      1
  w = write      200     20      2
  x = execute    400     40      4

  t = 1000
  s             4000   2000

For example:

  chmod 777 FILE  # a+rwx
</pre>


<h2><c>cp</c> &mdash; copy files</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>


<h1>E</h1>
<!-- ************************************************************ -->

<h2><c>echo</c> &mdash; display a line of text</h2>
<!-- ============================================================ -->
  
<p>(A shell built-in in all shells, also available as a Unix
command in <c>/system/bin</c>.)</p>


<h2><c>emacs</c> - editor</h2>
<!-- ============================================================ -->

<p>See 
  <a href="prg/emacs.xhtml">Emacs</a>.</p>
  

<h2><c>env</c> &mdash; print environment or set environment variables
for a single command</h2>
<!-- ============================================================ -->
  
<p>(A Unix command available in <c>/system/bin</c>.)</p>

<ul>
  <li>
    <p>Use 1: <c>env</c></p>
    
    <p><c>env</c> without arguments prints the current
    environment.</p>
  </li>

  <li>
    <p>Use 2: <c>env «vars» «command» «arguments»</c></p>
    
    <p>Where <c>«vars»</c> is <c>«var_1»="«value 1»" ...
    «var_n»="«value n»"</c>. The values must be quoted or escaped as
    explained in
      <a href="concepts.xhtml#env-vars">
    Environments variables</a>.</p>
        
    <p>Executes <c>«command» «arguments»</c> with environment
    variables <c>«var_1»</c> to <c>«var_n»</c> set to the specified
    values.</p>
        
    <p>It is equivalent to the shell syntax</p>
        
    <p class="indent code">
      «var_1»="«value 1»" ... «var_n»="«value n»" «command» «arguments»
    </p>
        
    <p>so you only need it when you need to set environment variables
    but are not inside a shell. For example for the
      <a href="config.xhtml#setting/command_line"
         >setting <setting>Command line</setting></a>.
    </p>
  </li>
</ul>


<h2><c>exec</c> &mdash; replace the shell with a command</h2>
<!-- ============================================================ -->

<p>(A shell built-in in all shells.)</p>
  

<h2><c>export</c> &mdash; set an environment variable</h2>
<!-- ============================================================ -->
  
<p>(A shell built-in in all <c>sh</c>-compatible shells.)</p>

<p>See section 
  <a href="concepts.xhtml#env-vars"
     >Environments variables</a>.</p>


<h1>F</h1>
<!-- ************************************************************ -->

<h2><c>fgrep</c> &mdash; search for a string</h2>
<!-- ============================================================ -->
    
<p>(A Unix command available in <c>/system/bin</c>.)</p>

<p><c>fgrep</c> searches files for a string.</p>


<h2><c>for</c> &mdash; execute commands for each member in a list</h2>
<!-- ============================================================ -->

<p>(A shell built-in in all <c>sh</c>-compatible shells.)</p>

<p class="indent code">
  for «var» in «words» ; do <br/> 
    «commands»              <br/> 
  done
</p>

<p><c>«words»</c> often contains wildcards like <code>*</code> or a
command in <c>$(...)</c>, for example:</p>

<p class="indent code">
for i in $(echo hi ho hum) ; do <br/> 
  echo "$i"                     <br/> 
done                            <br/> 
hi                              <br/> 
ho                              <br/> 
hum                            
</p>

<h1>G</h1>
<!-- ************************************************************ -->

<h2 id="getprop"><c>getprop</c> &mdash; get Android OS System
Properties</h2>
<!-- ============================================================ -->

<p>(An Android command available in <c>/system/bin</c>.)</p>

<p>To access the
  <a href="concepts.xhtml#android_os_system_properties"
     >Android OS System Properties</a>, use:</p>
  
<p class="indent code">getprop [«name» [«default»]]</p>
  
<p>Example 1: Get several properties</p>
    
<p class="indent code">
  getprop | fgrep ro.product.m         <br/> 
  [ro.product.manufacturer]: [samsung] <br/> 
  [ro.product.model]: [SM-T800]        <br/> 
  [ro.product.name]: [chagallwifi]
</p>

<p>Example 2: Get one property</p>

<p class="indent code">
  getprop ro.product.name <br/>
  chagallwifi
</p>


<h2 id="grep"><c>grep</c> &mdash; search for a regular expression</h2>
<!-- ============================================================ -->
    
<p>(A Unix command available in <c>/system/bin</c>.)</p>

<p><c>grep</c> searches files for a regular expression in.</p>


<h1>L</h1>
<!-- ************************************************************ -->

<h2><c>ln</c> &mdash; create a link</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>


<h1>M</h1>
<!-- ************************************************************ -->

<h2><c>mkdir</c> &mdash; make a directory</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>


<h2><c>mkfifo</c> &mdash; create a named pipe (a FIFO)</h2>
<!-- ============================================================ -->
  
<p>(A Unix command available in <c>/system/bin</c>.)</p>
    
<p>A "named pipe", also called a "FIFO" ("First In, First Out"), is a
file that connects two processes with a bidirectional pipe.</p>
    
<p>For an example, see 
  <a href="run/termux.xhtml#run/connect/netcat"
     >Connect to Termux with Netcat</a>.</p>


<h2><c>more</c> &mdash; a simple pager</h2>
<!-- ============================================================ -->
  
<p>(A Unix command available in <c>/system/bin</c>.)</p>


<h1>N</h1>
<!-- ************************************************************ -->

<h2 id="netcat"><c>netcat</c> or <c>nc</c> &mdash; Netcat</h2>
<!-- ============================================================ -->

<p>(A Unix command <b>not</b> available in <c>/system/bin</c>, only in
BusyBox, Termux or Debian.)</p>

<p>Netcat can be installed as <c>netcat</c>, <c>nc</c> or both.</p>

<p>For an example, see 
  <a href="run/termux.xhtml#run/connect/netcat"
     >Connect to Termux with Netcat</a>.</p>


<h1>R</h1>
<!-- ************************************************************ -->

<h2><c>rm</c> &mdash; remove files</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>


<h1>S</h1>
<!-- ************************************************************ -->

<h2><c>script</c> &mdash; record a terminal session</h2>
<!-- ============================================================ -->
  
<p>(A Unix command <b>not</b> available in <c>/system/bin</c>, only in
BusyBox, Termux or Debian.)</p>

<p><c>script</c> records a terminal session, i.e. logs the input and
output in a file <c>typescript</c> in the current directory.</p>
  

<h2><c>set</c> &mdash; set shell options and arguments, or print shell
and environment variables</h2>
<!-- ============================================================ -->
  
<p>(A shell built-in in all shells.)</p>

<p>Use:</p>

<ul>
  <li><c>set</c> without arguments prints all shell variables and
  environment variables. In some shells it also prints all
  functions.</li>

  <li>For other uses, consult your shell's documentation. In
  <c>sh</c>-compatible shell, it sets shell options or the shell's
  arguments <c>$1</c>, <c>$2</c>...</li>
</ul>


<h2 id="setprop"><c>setprop</c> &mdash; set Android OS System
Properties</h2>
<!-- ============================================================ -->

<p>(An Android command available in <c>/system/bin</c>.)</p>

<p>To set an
  <a href="concepts.xhtml#android_os_system_properties"
     >Android OS System Properties</a>, use:</p>

<p class="indent code">setprop name value</p>


<h2><c>sh</c> &mdash; default shell</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>

<p>See 
  <a href="run/sh.xhtml"
     >Android's shell</a>.</p>
  

<h2><c>sort</c> &mdash; sort lines</h2>
<!-- ============================================================ -->
  
<p>(A Unix command available in <c>/system/bin</c>.)</p>

  
<h2><c>ssh</c> &mdash; SSH</h2>
<!-- ============================================================ -->

<p class="TODO">LATER I will write about this when I've found a SSH
client that runs in TTerm.</p>


<h2><c>su</c> &mdash; super-user</h2>
<!-- ============================================================ -->
  
<p>(A Unix command only available in a
  <a href="../rooting.xhtml"
     >rooted device</a>.)</p>
  
<ul>
  <li>
    <p>Use 1: <c>su</c></p>
    
    <p><c>su</c> without arguments runs a shell as root.</p>
  </li>

  <li>
    <p>Use 2: <c>su «user»</c></p>
    
    <p>Runs a shell as Linux user «user». In Android, each app has its
    own Linux user, with a name like <c>u«android user number»_a«Linux
    user number»</c>.</p>
  </li>
  
  <li>
    <p>Use 3: <c>su [«user»] -c "«command» «args»"</c></p>
    
    <p>Runs a command as root or Linux user «user». Note that the
    command and its arguments should be quoted.</p>
  </li>
</ul>
  

<h2 id="stty"><c>stty</c> &mdash; "set TTY", sets and prints terminal
(TTY) settings</h2>
<!-- ============================================================ -->

<p>(A Unix command <b>not</b> available in <c>/system/bin</c>, only in
BusyBox, Termux or Debian.)</p>

<p><c>stty</c> has several functions:</p>

<ul>
  <li id="stty/size">
    <p><b><c>stty size</c></b> returns the 
      <a href="concepts.xhtml#terminal/size"
         >terminal size</a>.
    For example</p>

    <p class="indent code">
      $ stty size<br/>
      38 84
    </p>

    <p>means that the terminal has 38 rows and 84 columns.</p>

    <p>If you only need the number of rows or the number of columns,
    you have to be a Shell Wizard to figure out how to access just one
    of the two numbers. For us ordinary mortals, BusyBox has
      <a href="#ttysize"
         ><c>ttysize</c></a>.</p>
  </li>

  <li id="stty/rows+cols">
    <p>It's surprisingly difficult to ensure that the currently
    running command always knows the current
      <a hreft="concepts.xhtml#terminal/size"
         >terminal size</a>.</p>

    <p>If something gets messed up and Linux doesn't know the current
    terminal size, use <c><b>stty rows</b></c> and <c><b>stty
    cols</b></c> to set it, for example:</p>

    <p class="indent code">
      stty rows 38 cols 84
    </p>
  </li>

  <li id="stty/keyboard">
    <p><c>stty</c> can control 
      <a href="concepts.xhtml#terminal/settings"
         >terminal settings</a>.</p>
    
    <p>For example, it can enable or disable echoing of characters,
    and it can enable or disable the handling special characters like
    <k>^C</k>.</p>

    <p>The keyboard has "modes":</p>
    
    <ul>
      <li>
        <p>The default is line-based input with "cooked mode", aka
        "canonical mode", where the OS handles basic line editing,
        e.g. <k>^H</k> or <k>^?</k> for backspace, or <k>^C</k> to
        interrupt.</p>

        <p>This is a very old mode. It doesn't support cursor keys, so
        most shells don't use it.</p>

        <p>For an example, start <c>cat</c>. You can delete a char
        whith <k>Backspace</k>, or a word with <k>^W</k>, but you
        can't use the cursor keys.</p>
      </li>

      <li id="stty/raw">
        <p><c><b>stty raw</b></c> sets the terminal to <dfn>raw
        mode</dfn>. The OS does not handle any characters, and all
        chars that the users types are sent immediately to the running
        command, and all chars output by the command are shown
        immediately.</p>

        <p>This is what most shells use to offer command line
        editing.</p>
    
        <p>For another example, see
          <a href="run/termux.xhtml#run/connect/netcat"
             >Running Termux in TTerm with Netcat</a>,
        where it ensures that the <i>remote</i> shell handles all
        command line editing. It also ensures that <k>^C</k> arrives
        at the <i>remote</i> shell, insted of stopping the
        <i>local</i> Netcat.</p>
      </li>

      <p>Further examples:</p>

      <li id="stty/echo">
        <p><c><b>stty -echo</b></c> turns off echoing of the chars
        that you type, <c><b>stty echo</b></c> turns it on again.</p>
      </li>
    </ul>
  </li>

  <p>It is possible to mess up your terminal settings so that you
  can't even see what you are typing. In that case:</p>

  <li id="stty/sane">
    <p><c><b>stty sane</b></c> sets the terminal settings back to a
    "sane" default.</p>
  </li>
</ul>


<h1>T</h1>
<!-- ************************************************************ -->

<h2><c>telnet</c>, <c>telnetd</c> &mdash; Telnet and its daemon</h2>
<!-- ============================================================ -->

<p>(A Unix command <b>not</b> available in <c>/system/bin</c>,
only in BusyBox, Termux or Debian.)</p>

<p>For an example, see 
  <a href="run/termux.xhtml#run/connect/telnet"
     >Connect to Termux with Telnet</a>.</p>


<h2 id="ttysize"><c>ttysize</c> &mdash; print the terminal size</h2>
<!-- ============================================================ -->

<p>(A Unix command <b>not</b> available in <c>/system/bin</c>, only in
BusyBox, Termux or Debian.)</p>
    
<p><c>stty size</c> returns the terminal size. But if you only need
the number of rows or the number of columns, you have to be a Shell
Wizard to figure out how to access just one of the two numbers. For us
ordinary mortals, BusyBox has <c><b>ttysize h</b></c> and
<c><b>ttysize w</b></c>.</p>


<h1>W</h1>
<!-- ************************************************************ -->

<h2 id="whoami"><c>whoami</c> &mdash; print the Linux user's name</h2>
<!-- ============================================================ -->

<p>(A Unix command available in <c>/system/bin</c>.)</p>

<p>Prints the current
  <a href="concepts.xhtml#user/linux"
    >Linux user</a>'s name, for example <c>a0_u123</c>.</p>


<!-- ************************************************************ -->

<footer>
  <hr/>
  <p>Copyright (C) 2014-2018 
  <a href="mailto:thorbj.hansen@gmail.com?subject=TTerm"
     >Thorbjørn Hansen</a></p>
</footer>
</body>
</html>
